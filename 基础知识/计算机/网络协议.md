## TCPIP
### TCP重要特性
### 三次握手四次挥手
### 和UDP的区别
- 1.基于连接与无连接；
- 2.对系统资源的要求（TCP较多，UDP少）；
- 3.UDP程序结构较简单；
- 4.流模式与数据报模式 ；
- 5.TCP保证数据正确性，UDP可能丢包，TCP保证数据顺序，UDP不保证。
### 连接限制和问题
事实上Linux内核对TCP连接的识别是通过四元组来区分，即（源ip，源port，目标ip，目标port）。这个四元组只要任意一个不同，就是完全不同的连接！所以说，只要建立的连接是不同的，一个端口是可以建立多个TCP连接的！
其能建立的最大TCP连接数量也应当是65535×n。n取决于单进程/系统/用户最大能打开的文件描述数和内存情况，其实文件描述符数量也不要紧，可以改内核参数对应的限制，所以真正限制一台主机（无论服务客户）的TCP最大连接数的只有内存！

## socket
区分udp和tcp： STREAM， DGRAM
- 创建 socket
- 命名 setsocket
- 绑定 bind
- 监听 listen
- 连接 connect

## RPC
可以基于TCP也可以基于UDP。
RPC(Remote Procedure Call，远程过程调用)是建立在Socket之上的,出于一种类比的愿望,在一台机器上运行的主程序,可以调用另一台机器上准备好的子程序,就像 LPC(本地过程调用).RPC带来了开发C/S程序的简单可靠的手段,它通过一种叫XDR的数据表达方法描述数据,程序员书写伪代码,然后由 rpcgen程序翻译为真正的可编译的C语言源代码,再编译成真正的Client端和Server端程序。 
RPC作为普遍的C/S开发方 法,开发效率高效,可靠.但RPC方法的基本原则是－－以模块调用的简单性忽略通讯的具体细节,以便程序员不用关心C/S之间的通讯协议,集中精力对付实 现过程.这就决定了 RPC生成的通讯包不可能对每种应用都有最恰当的处理办法,与Socket方法相比,传输相同的有效数据,RPC占用更多的网络带宽. 

## LWIP
- lwip的process model:所有tcp/ip协议栈都在一个进程当中,这样tcp/ip协议栈就和操作系统内核分开了.而应用层程序既可以是单独的进程也可以驻留在tcp/ip进程中.如果应用程序是单独的进程可以通过操作系统的邮箱,消息队列等和tcp/ip进程进行通讯.
- Lwip为了适应不同的操作系统,在代码中没有使用和某一个操作系统相关的系统调用和数据结构.而是在lwip和操作系统之间增加了一个操作系统封装层.操作系统封装层为操作系统服务(定时,进程同步,消息传递)提供了一个统一的接口.在lwip中进程同步使用semaphone和消息传递采用"mbox"(其实在ucos的实现中我们使用的是Message Queue来实现lwip中的"mbox",下面大家可以看到这一点)